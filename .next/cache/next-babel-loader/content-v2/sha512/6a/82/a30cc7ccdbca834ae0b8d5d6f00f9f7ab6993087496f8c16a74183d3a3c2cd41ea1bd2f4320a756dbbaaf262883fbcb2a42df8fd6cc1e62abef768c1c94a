{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/components/infoSurveillantSalle.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nvar InfoSurveillantSalle = /*#__PURE__*/function (_React$Component) {\n  _inherits(InfoSurveillantSalle, _React$Component);\n\n  var _super = _createSuper(InfoSurveillantSalle);\n\n  function InfoSurveillantSalle() {\n    var _this;\n\n    _classCallCheck(this, InfoSurveillantSalle);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      surveillant: _this.props.dataSurveillant,\n      examen: _this.props.examen,\n      salle: _this.props.salle,\n      examens: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAlloc\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                surveillant: _this.state.surveillant.id,\n                examen: _this.state.examens,\n                salle: _this.salle,\n                user: 0\n              };\n              axios.post(\"surveillance/controle\", data).then(function () {\n                return toast.success(\"Surveillant alloué à une salle\");\n              })[\"catch\"](function () {\n                return toast.error(\"Erreur lors de l'allocation\");\n              });\n              console.log(data);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    return _this;\n  }\n\n  _createClass(InfoSurveillantSalle, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"\".concat(this.state.surveillant.last_name, \" \").concat(this.state.surveillant.first_name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: this.state.surveillant.grade === true ? \"Chef de Salle\" : \"Surveillant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              onChange: function onChange(e) {\n                return _this2.setState({\n                  examens: parseInt(e.target.value)\n                });\n              },\n              children: this.state.examen.map(function (examen) {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: examen.id,\n                  children: [examen.name, \" - \", examen.day]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 17\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              onChange: function onChange(e) {\n                return _this2.salle = parseInt(e.target.value);\n              },\n              children: this.state.salle.map(function (salle) {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: salle.id,\n                  children: salle.code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 17\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: this.handleAlloc,\n              className: \"btn boutonS\",\n              children: [\"Allouer\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n    }\n  }]);\n\n  return InfoSurveillantSalle;\n}(React.Component);\n\nexport { InfoSurveillantSalle as default };","map":{"version":3,"sources":["/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/components/infoSurveillantSalle.js"],"names":["React","useEffect","Head","Link","axios","toast","InfoSurveillantSalle","surveillant","props","dataSurveillant","examen","salle","examens","data","state","id","user","post","then","success","error","console","log","last_name","first_name","grade","e","setState","parseInt","target","value","map","name","day","code","handleAlloc","Component"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport default class InfoSurveillantSalle extends React.Component {\n  state = {\n    surveillant: this.props.dataSurveillant,\n    examen: this.props.examen,\n    salle: this.props.salle,\n    examens: 0,\n  };\n  handleAlloc = async () => {\n    const data = {\n      surveillant: this.state.surveillant.id,\n      examen: this.state.examens,\n      salle: this.salle,\n      user: 0,\n    };\n    axios\n      .post(\"surveillance/controle\", data)\n      .then(() => toast.success(\"Surveillant alloué à une salle\"))\n      .catch(() => toast.error(\"Erreur lors de l'allocation\"));\n    console.log(data);\n  };\n\n  render() {\n    return (\n      <>\n        <tr>\n          <td>{`${this.state.surveillant.last_name} ${this.state.surveillant.first_name}`}</td>\n          <td>\n            {this.state.surveillant.grade === true\n              ? `Chef de Salle`\n              : `Surveillant`}\n          </td>\n          <td>\n            <select\n              className=\"form-select\"\n              onChange={(e) =>\n                this.setState({ examens: parseInt(e.target.value) })\n              }\n            >\n              {this.state.examen.map((examen) => (\n                <option value={examen.id}>\n                  {examen.name} - {examen.day}\n                </option>\n              ))}\n            </select>\n          </td>\n          <td>\n            <select\n              className=\"form-select\"\n              onChange={(e) => (this.salle = parseInt(e.target.value))}\n            >\n              {this.state.salle.map((salle) => (\n                <option value={salle.id}>{salle.code}</option>\n              ))}\n            </select>\n          </td>\n          <td>\n            <button\n              type=\"submit\"\n              onClick={this.handleAlloc}\n              className=\"btn boutonS\"\n            >\n              Allouer{\" \"}\n            </button>\n          </td>\n        </tr>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}