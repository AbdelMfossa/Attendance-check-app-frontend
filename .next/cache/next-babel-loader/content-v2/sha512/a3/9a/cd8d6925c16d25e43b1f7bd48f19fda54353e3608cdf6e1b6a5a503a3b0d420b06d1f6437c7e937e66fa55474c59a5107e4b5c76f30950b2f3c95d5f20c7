{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/components/infoSurveillantSalle.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect } from 'react';\nimport Head from \"next/head\";\nimport Link from 'next/link';\nimport axios from \"axios\";\nimport { toast } from 'react-toastify';\n\nvar InfoSurveillantSalle = /*#__PURE__*/function (_React$Component) {\n  _inherits(InfoSurveillantSalle, _React$Component);\n\n  var _super = _createSuper(InfoSurveillantSalle);\n\n  function InfoSurveillantSalle() {\n    var _this;\n\n    _classCallCheck(this, InfoSurveillantSalle);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      surveillant: _this.props.dataSurveillant,\n      examen: _this.props.examen,\n      salle: _this.props.salle\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAlloc\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                surveillant: _this.state.surveillant.id,\n                examen: _this.examens,\n                salle: _this.salle,\n                user: 0\n              };\n              axios.post(\"surveillance/controle\", data).then(toast.success(\"Surveillant alloué à une salle\"))[\"catch\"](toast.error(\"Erreur lors de l'allocation\"));\n              console.log(data);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    return _this;\n  }\n\n  _createClass(InfoSurveillantSalle, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"\".concat(this.state.surveillant.last_name, \" \").concat(this.state.surveillant.first_name)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: this.state.surveillant.grade === true ? \"Chef de Salle\" : \"Surveillant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              onChange: function onChange(e) {\n                return _this2.examens = parseInt(e.target.value);\n              },\n              children: this.state.examen.map(function (examen) {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: examen.id,\n                  children: [examen.name, \" - \", examen.day]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 37,\n                  columnNumber: 33\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              onChange: function onChange(e) {\n                return _this2.salle = parseInt(e.target.value);\n              },\n              children: this.state.salle.map(function (salle) {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: salle.id,\n                  children: salle.code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 44,\n                  columnNumber: 33\n                }, _this2);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              onClick: this.handleAlloc,\n              variant: \"dark\",\n              className: \"btn bouton \",\n              children: \"Allouer \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this)\n      }, void 0, false);\n    }\n  }]);\n\n  return InfoSurveillantSalle;\n}(React.Component);\n\nexport { InfoSurveillantSalle as default };","map":{"version":3,"sources":["/home/roosvelt/front-end-attendance-check-app/Attendance-check-app-frontend/components/infoSurveillantSalle.js"],"names":["React","useEffect","Head","Link","axios","toast","InfoSurveillantSalle","surveillant","props","dataSurveillant","examen","salle","data","state","id","examens","user","post","then","success","error","console","log","last_name","first_name","grade","e","parseInt","target","value","map","name","day","code","handleAlloc","Component"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport Head from \"next/head\";\nimport Link from 'next/link';\nimport axios from \"axios\"\nimport { toast } from 'react-toastify'\n\n\nexport default class InfoSurveillantSalle extends React.Component {\n    state = {\n        surveillant: this.props.dataSurveillant,\n        examen: this.props.examen,\n        salle: this.props.salle\n    }\n    handleAlloc = async () => {\n        const data = {\n            surveillant: this.state.surveillant.id,\n            examen: this.examens,\n            salle: this.salle,\n            user: 0\n        }\n        axios.post(\"surveillance/controle\", data)\n            .then(toast.success(\"Surveillant alloué à une salle\"))\n            .catch(toast.error(\"Erreur lors de l'allocation\"))\n        console.log(data);\n\n    }\n\n    render() {\n        return (\n            <>\n                <tr>\n                    <td>{`${this.state.surveillant.last_name} ${this.state.surveillant.first_name}`}</td>\n                    < td >{this.state.surveillant.grade === true ? `Chef de Salle` : `Surveillant`}</td>\n                    <td>\n                        <select className=\"form-select\" onChange={e => this.examens = parseInt(e.target.value)}>\n                            {this.state.examen.map(examen =>\n                                <option value={examen.id}>{examen.name} - {examen.day}</option>\n                            )}\n                        </select>\n                    </td>\n                    <td>\n                        <select className=\"form-select\" onChange={e => this.salle = parseInt(e.target.value)}>\n                            {this.state.salle.map(salle =>\n                                <option value={salle.id}>{salle.code}</option>\n                            )}\n                        </select>\n                    </td>\n                    <td><button type=\"submit\" onClick={this.handleAlloc} variant=\"dark\" className=\"btn bouton \">Allouer </button></td>\n                </tr>\n            </>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}