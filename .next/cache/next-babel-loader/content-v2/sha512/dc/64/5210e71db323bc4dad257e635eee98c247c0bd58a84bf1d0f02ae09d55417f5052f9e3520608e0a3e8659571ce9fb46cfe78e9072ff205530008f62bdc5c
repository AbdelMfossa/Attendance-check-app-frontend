{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/components/infoSurveillantSalle.js\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nexport default class InfoSurveillantSalle extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      surveillant: this.props.dataSurveillant,\n      examen: this.props.examen,\n      salle: this.props.salle,\n      examens: 0\n    });\n\n    _defineProperty(this, \"handleAlloc\", async () => {\n      const data = {\n        surveillant: this.state.surveillant.id,\n        examen: this.state.examens,\n        salle: this.salle,\n        user: 0\n      };\n      axios.post(\"surveillance/controle\", data).then(() => toast.success(\"Surveillant alloué à une salle\")).catch(() => toast.error(\"Erreur lors de l'allocation\"));\n      console.log(data);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: `${this.state.surveillant.last_name} ${this.state.surveillant.first_name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: this.state.surveillant.grade === true ? `Chef de Salle` : `Surveillant`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select\",\n            onChange: e => this.setState({\n              examens: parseInt(e.target.value)\n            }),\n            children: this.state.examen.map(examen => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: examen.id,\n              children: [examen.name, \" - \", examen.day]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select\",\n            onChange: e => this.salle = parseInt(e.target.value),\n            children: this.state.salle.map(salle => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: salle.id,\n              children: salle.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: this.handleAlloc,\n            className: \"btn boutonS\",\n            children: [\"Allouer\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["/home/roosvelt/Livrable front-end/Attendance-check-app-frontend-1/components/infoSurveillantSalle.js"],"names":["React","useEffect","Head","Link","axios","toast","InfoSurveillantSalle","Component","surveillant","props","dataSurveillant","examen","salle","examens","data","state","id","user","post","then","success","catch","error","console","log","render","last_name","first_name","grade","e","setState","parseInt","target","value","map","name","day","code","handleAlloc"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport default class InfoSurveillantSalle extends React.Component {\n  state = {\n    surveillant: this.props.dataSurveillant,\n    examen: this.props.examen,\n    salle: this.props.salle,\n    examens: 0,\n  };\n  handleAlloc = async () => {\n    const data = {\n      surveillant: this.state.surveillant.id,\n      examen: this.state.examens,\n      salle: this.salle,\n      user: 0,\n    };\n    axios\n      .post(\"surveillance/controle\", data)\n      .then(() => toast.success(\"Surveillant alloué à une salle\"))\n      .catch(() => toast.error(\"Erreur lors de l'allocation\"));\n    console.log(data);\n  };\n\n  render() {\n    return (\n      <>\n        <tr>\n          <td>{`${this.state.surveillant.last_name} ${this.state.surveillant.first_name}`}</td>\n          <td>\n            {this.state.surveillant.grade === true\n              ? `Chef de Salle`\n              : `Surveillant`}\n          </td>\n          <td>\n            <select\n              className=\"form-select\"\n              onChange={(e) =>\n                this.setState({ examens: parseInt(e.target.value) })\n              }\n            >\n              {this.state.examen.map((examen) => (\n                <option value={examen.id}>\n                  {examen.name} - {examen.day}\n                </option>\n              ))}\n            </select>\n          </td>\n          <td>\n            <select\n              className=\"form-select\"\n              onChange={(e) => (this.salle = parseInt(e.target.value))}\n            >\n              {this.state.salle.map((salle) => (\n                <option value={salle.id}>{salle.code}</option>\n              ))}\n            </select>\n          </td>\n          <td>\n            <button\n              type=\"submit\"\n              onClick={this.handleAlloc}\n              className=\"btn boutonS\"\n            >\n              Allouer{\" \"}\n            </button>\n          </td>\n        </tr>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}