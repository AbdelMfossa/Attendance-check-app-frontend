{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/home/dilane/Bureau/Attendance-check-app-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/dilane/Bureau/Attendance-check-app-frontend/components/ModalC.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport axios from 'axios';\nimport React from 'react';\nimport { Modal, Button, Dropdown } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\n\nvar ModalC = /*#__PURE__*/function (_React$Component) {\n  _inherits(ModalC, _React$Component);\n\n  var _super = _createSuper(ModalC);\n\n  function ModalC(props) {\n    var _this;\n\n    _classCallCheck(this, ModalC);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClose\", function () {\n      return _this.setState({\n        show: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleShow\", function () {\n      return _this.setState({\n        show: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCreate\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                data = {\n                  first_name: _this.state.first_name,\n                  last_name: _this.state.last_name,\n                  phone: _this.state.phone,\n                  matricule: _this.state.matricule,\n                  email: _this.state.email,\n                  password: _this.state.password,\n                  password_confirm: _this.state.password,\n                  role: _this.state.role\n                };\n                axios.post(\"/users/signup\", data)[\"catch\"](function (err) {\n                  console.log(err);\n                  toast.error(\"Erreur lors de la creation du controleur\");\n                }).then(function (res) {\n                  if (res.data != null) toast.success(\"Controleur Crée avec succès Veuillez recharchez la page\");\n                });\n\n                _this.setState({\n                  show: false\n                });\n\n                console.log(data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleModif\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                event.preventDefault();\n                data = {\n                  first_name: _this.state.first_name,\n                  last_name: _this.state.last_name,\n                  phone: _this.state.phone,\n                  matricule: _this.state.matricule,\n                  email: _this.state.email,\n                  role: _this.state.role\n                };\n                axios.post(\"/users/users/info\", data)[\"catch\"](function (err) {\n                  console.log(err);\n                  toast.error(\"Erreur lors de la modification des info du controleur\");\n                }).then(function (res) {\n                  if (res.data != null) toast.success(\"modification des informations du controleur reussi\");\n                });\n\n                _this.setState({\n                  show: false\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    var dataControleur = _this.props.controleur;\n    var fname = '';\n    var lname = '';\n    var phone = '';\n    var mat = '';\n    var email = '';\n\n    if (dataControleur !== undefined) {\n      fname = dataControleur.first_name;\n      lname = dataControleur.last_name;\n      phone = dataControleur.phone;\n      mat = dataControleur.matricule;\n      email = dataControleur.email;\n    }\n\n    _this.state = {\n      show: false,\n      first_name: fname,\n      last_name: lname,\n      phone: phone,\n      matricule: mat,\n      email: email,\n      password: 'admin',\n      role: 2\n    };\n    return _this;\n  }\n\n  _createClass(ModalC, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [this.props.modif ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: this.handleModif,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"dark\",\n          className: \"btn boutonE\",\n          onClick: this.handleShow,\n          children: \"NOUVEAU\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: this.state.show,\n          onHide: this.handleClose,\n          backdrop: \"static\",\n          keyboard: false,\n          className: \"modalSuppression\",\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            className: \"color-titre-ajout\",\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              className: \"colorTitre\",\n              children: \"Ajout d'un \".concat(this.props.title)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-form\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Nom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"\",\n                    onChange: function onChange(e) {\n                      return _this2.state.first_name = e.target.value;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Prenom\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"\",\n                    onChange: function onChange(e) {\n                      return _this2.state.last_name = e.target.value;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"\",\n                    onChange: function onChange(e) {\n                      return _this2.state.email = e.target.value;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"matricule\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"\",\n                    onChange: function onChange(e) {\n                      return _this2.state.matricule = e.target.value;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Num\\xE9ro de t\\xE9l\\xE9phone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control\",\n                    placeholder: \"\",\n                    onChange: function onChange(e) {\n                      return _this2.state.phone = e.target.value;\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: this.handleClose,\n              children: \"Fermer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this), this.props.modif ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              onClick: this.handleModif,\n              className: \"color-titre-ajout\",\n              children: \"Modifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              type: \"submit\",\n              onClick: this.handleCreate,\n              className: \"color-titre-ajout\",\n              children: \"Valider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true);\n    }\n  }]);\n\n  return ModalC;\n}(React.Component);\n\nexport { ModalC as default };","map":{"version":3,"sources":["/home/dilane/Bureau/Attendance-check-app-frontend/components/ModalC.jsx"],"names":["axios","React","Modal","Button","Dropdown","toast","ModalC","props","setState","show","event","preventDefault","data","first_name","state","last_name","phone","matricule","email","password","password_confirm","role","post","err","console","log","error","then","res","success","dataControleur","controleur","fname","lname","mat","undefined","modif","handleModif","handleShow","handleClose","title","e","target","value","handleCreate","Component"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React from 'react'\nimport { Modal, Button, Dropdown } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\n\nexport default class ModalC extends React.Component {\n    constructor(props) {\n        super(props)\n\n        let dataControleur = this.props.controleur;\n        let fname = '';\n        let lname = '';\n        let phone = '';\n        let mat = '';\n        let email = '';\n\n        if (dataControleur !== undefined) {\n            fname = dataControleur.first_name;\n            lname = dataControleur.last_name;\n            phone = dataControleur.phone;\n            mat = dataControleur.matricule;\n            email = dataControleur.email;\n        }\n\n        this.state = {\n            show: false,\n            first_name: fname,\n            last_name: lname,\n            phone: phone,\n            matricule: mat,\n            email: email,\n            password: 'admin',\n            role: 2\n        }\n    }\n    handleClose = () => this.setState({ show: false });\n    handleShow = () => this.setState({ show: true });\n\n    handleCreate = async (event) => {\n        event.preventDefault();\n        const data = {\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            phone: this.state.phone,\n            matricule: this.state.matricule,\n            email: this.state.email,\n            password: this.state.password,\n            password_confirm: this.state.password,\n            role: this.state.role\n        }\n        axios.post(`/users/signup`, data)\n            .catch(err => { console.log(err); toast.error(\"Erreur lors de la creation du controleur\"); })\n            .then((res) => {\n                if (res.data != null)\n                    toast.success(\"Controleur Crée avec succès Veuillez recharchez la page\");\n            });\n        this.setState({ show: false })\n        console.log(data)\n    }\n\n    handleModif = async (event) => {\n        event.preventDefault();\n\n        const data = {\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            phone: this.state.phone,\n            matricule: this.state.matricule,\n            email: this.state.email,\n            role: this.state.role\n        }\n\n        axios.post(`/users/users/info`, data)\n            .catch(err => {\n                console.log(err);\n                toast.error(\"Erreur lors de la modification des info du controleur\");\n            })\n            .then((res) => {\n                if (res.data != null)\n                    toast.success(\"modification des informations du controleur reussi\");\n            });\n        this.setState({ show: false });\n    }\n\n    render() {\n        return (\n            <>\n                {\n                    this.props.modif ? (\n                        <Dropdown.Item onClick={this.handleModif}>Edit</Dropdown.Item>\n                    ) : (\n                        <Button variant=\"dark\" className=\"btn boutonE\" onClick={this.handleShow} >\n                            NOUVEAU\n                        </Button>\n                    )\n                }\n\n                <Modal\n                    show={this.state.show}\n                    onHide={this.handleClose}\n                    backdrop=\"static\"\n                    keyboard={false}\n                    className=\"modalSuppression\"\n                >\n                    <Modal.Header closeButton className=\"color-titre-ajout\">\n                        <Modal.Title className=\"colorTitre\">{`Ajout d'un ${this.props.title}`}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <div className=\"modal-form\" >\n                            <form >\n                                <div>\n                                    <label>Nom</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"\" onChange={e => this.state.first_name = e.target.value} />\n                                </div>\n                                <div>\n                                    <label >Prenom</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"\" onChange={e => this.state.last_name = e.target.value} />\n                                </div>\n                                <div>\n                                    <label >Email</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"\" onChange={e => this.state.email = e.target.value} />\n                                </div>\n                                <div>\n                                    <label >matricule</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"\" onChange={e => this.state.matricule = e.target.value} />\n                                </div>\n                                <div>\n                                    <label >Numéro de téléphone</label>\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"\" onChange={e => this.state.phone = e.target.value} />\n                                </div>\n                            </form>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\n                            Fermer\n                        </Button>\n                        {\n                            this.props.modif ? (\n                                <Button\n                                    variant=\"primary\"\n                                    type=\"submit\"\n                                    onClick={this.handleModif}\n                                    className=\"color-titre-ajout\"\n                                >\n                                    Modifier\n                                </Button>\n                            ) : (\n                                <Button\n                                    variant=\"primary\"\n                                    type=\"submit\"\n                                    onClick={this.handleCreate}\n                                    className=\"color-titre-ajout\"\n                                >\n                                    Valider\n                                </Button>\n                            )\n                        }\n\n                    </Modal.Footer>\n                </Modal>\n            </>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}